{"version":3,"sources":["globalAds.js"],"names":["window","adsControl","_adType","admobInit","self","sdkbox","PluginAdMob","setListener","adViewDidReceiveAd","name","showInfo","adViewDidFailToReceiveAdWithError","msg","adViewWillPresentScreen","adViewDidDismissScreen","Notification","emit","adViewWillDismissScreen","adViewWillLeaveApplication","init","plugin","deviceid","length","cacheInterstitial","cache","showAds","adType","show","push","checkAbsIsAvailabel","isAvailable","hideAds","i","hide","canUseSdkbox","cc","sys","os","OS_IOS","CC_WECHATGAME","isBrowser"],"mappings":";;;;;;AACAA,OAAOC,UAAP,GAAoB;AAChBC,aAAU,EADM;;AAGhBC,eAAW,qBAAW;AAClB,YAAIC,OAAO,IAAX;AACAC,eAAOC,WAAP,CAAmBC,WAAnB,CAA+B;AAC3BC,gCAAoB,4BAASC,IAAT,EAAe;AAC/BL,qBAAKM,QAAL,CAAc,6BAA6BD,IAA3C;AACH,aAH0B;AAI3BE,+CAAmC,2CAASF,IAAT,EAAeG,GAAf,EAAoB;AACnDR,qBAAKM,QAAL,CAAc,4CAA4CD,IAA5C,GAAmD,OAAnD,GAA6DG,GAA3E;AACH,aAN0B;AAO3BC,qCAAyB,iCAASJ,IAAT,EAAe;AACpCL,qBAAKM,QAAL,CAAc,kCAAkCD,IAAhD;AACH,aAT0B;AAU3BK,oCAAwB,gCAASL,IAAT,EAAe;AACnCL,qBAAKM,QAAL,CAAc,iCAAiCD,IAA/C;AACAT,uBAAOe,YAAP,CAAoBC,IAApB,CAAyB,cAAzB,EAAwC,CAAxC;AACH,aAb0B;AAc3BC,qCAAyB,iCAASR,IAAT,EAAe;AACpCL,qBAAKM,QAAL,CAAc,6BAA6BD,IAA3C;AACH,aAhB0B;AAiB3BS,wCAA4B,oCAAST,IAAT,EAAe;AACvCL,qBAAKM,QAAL,CAAc,gCAAgCD,IAA9C;AACH;AAnB0B,SAA/B;AAqBA;AACAJ,eAAOC,WAAP,CAAmBa,IAAnB;;AAEA;AACA,YAAIC,SAASf,OAAOC,WAApB;AACA,YAAI,eAAe,OAAOc,OAAOC,QAA7B,IAA0CD,OAAOC,QAAP,CAAgBC,MAAhB,GAAyB,CAAvE,EAA0E;AACtE,iBAAKZ,QAAL,CAAc,cAAcU,OAAOC,QAAnC;AACA;AACH;AACD,aAAKE,iBAAL;AACH,KApCe;;AAsChBA,uBAAmB,6BAAW;AAC1B;AACA;AACAlB,eAAOC,WAAP,CAAmBkB,KAAnB,CAAyB,UAAzB;AACAnB,eAAOC,WAAP,CAAmBkB,KAAnB,CAAyB,MAAzB;AACAnB,eAAOC,WAAP,CAAmBkB,KAAnB,CAAyB,YAAzB;AACAnB,eAAOC,WAAP,CAAmBkB,KAAnB,CAAyB,UAAzB;AACH,KA7Ce;;AA+ChBC,aAAS,iBAASC,MAAT,EAAiB;AACtB;AACA;AACArB,eAAOC,WAAP,CAAmBqB,IAAnB,CAAwBD,MAAxB;AACA,aAAKxB,OAAL,CAAa0B,IAAb,CAAkBF,MAAlB;AACH,KApDe;;AAsDhBG,yBAAqB,6BAASH,MAAT,EAAgB;AACjC;AACA,eAAOrB,OAAOC,WAAP,CAAmBwB,WAAnB,CAA+BJ,MAA/B,CAAP;AACH,KAzDe;;AA2DhBK,aAAS,mBAAU;AACf;AACA,aAAIC,IAAI,CAAR,EAAWA,IAAI,KAAK9B,OAAL,CAAaoB,MAA5B,EAAoC,EAAEU,CAAtC;AACI3B,mBAAOC,WAAP,CAAmB2B,IAAnB,CAAwB,KAAK/B,OAAL,CAAa8B,CAAb,CAAxB;AADJ,SAEA,KAAK9B,OAAL,GAAe,EAAf;AACH,KAhEe;;AAkEhBQ,cAAU,kBAASE,GAAT,EAAa;AACnB;AACH,KApEe;;AAsEhBsB,kBAAc,wBACd;AACI,YAAGC,GAAGC,GAAH,CAAOC,EAAP,IAAaF,GAAGC,GAAH,CAAOE,MAApB,IAA8B,CAACC,aAA/B,IAAgD,CAACJ,GAAGC,GAAH,CAAOI,SAA3D,EAAqE;AACjE,mBAAO,IAAP;AACH,SAFD,MAEK;AACD,mBAAO,KAAP;AACH;AACJ;AA7Ee,CAApB","file":"globalAds.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\abs","sourcesContent":["\nwindow.adsControl = {\n    _adType : [],\n\n    admobInit: function() {\n        let self = this\n        sdkbox.PluginAdMob.setListener({\n            adViewDidReceiveAd: function(name) {\n                self.showInfo('adViewDidReceiveAd name=' + name);\n            },\n            adViewDidFailToReceiveAdWithError: function(name, msg) {\n                self.showInfo('adViewDidFailToReceiveAdWithError name=' + name + ' msg=' + msg);\n            },\n            adViewWillPresentScreen: function(name) {\n                self.showInfo('adViewWillPresentScreen name=' + name);\n            },\n            adViewDidDismissScreen: function(name) {\n                self.showInfo('adViewDidDismissScreen name=' + name);\n                window.Notification.emit('rewardIsDone',5);\n            },\n            adViewWillDismissScreen: function(name) {\n                self.showInfo('adViewWillDismissScreen=' + name);\n            },\n            adViewWillLeaveApplication: function(name) {\n                self.showInfo('adViewWillLeaveApplication=' + name);\n            }\n        });\n        //初始化Admob\n        sdkbox.PluginAdMob.init();\n\n        // just for test\n        let plugin = sdkbox.PluginAdMob\n        if (\"undefined\" != typeof(plugin.deviceid) && plugin.deviceid.length > 0) {\n            this.showInfo('deviceid=' + plugin.deviceid);\n            // plugin.setTestDevices(plugin.deviceid);\n        }\n        this.cacheInterstitial();\n    },\n\n    cacheInterstitial: function() {\n        //console.log(\"------------cacheInterstitial-\");\n        //缓存广告数据\n        sdkbox.PluginAdMob.cache('gameover');\n        sdkbox.PluginAdMob.cache('home');\n        sdkbox.PluginAdMob.cache('top_banner');\n        sdkbox.PluginAdMob.cache('rewarded');\n    },\n\n    showAds: function(adType) {\n        //console.log(\"------------cacheInterstitial-\");\n        //显示广告\n        sdkbox.PluginAdMob.show(adType);\n        this._adType.push(adType);\n    },\n\n    checkAbsIsAvailabel: function(adType){\n        //检查广告的可用性\n        return sdkbox.PluginAdMob.isAvailable(adType);\n    },\n\n    hideAds: function(){\n        //console.log(\"------------hideInterstitial-\");\n        for(i = 0; i < this._adType.length; ++i)\n            sdkbox.PluginAdMob.hide(this._adType[i]);\n        this._adType = [];\n    },\n\n    showInfo: function(msg){\n        //console.log(msg);\n    },\n\n    canUseSdkbox: function()\n    {\n        if(cc.sys.os == cc.sys.OS_IOS && !CC_WECHATGAME && !cc.sys.isBrowser){\n            return true;\n        }else{\n            return false;\n        }\n    }\n};"]}